alightinastorm: 1. Swap the motion reordering on the bottom layer bar with dnd-kit sortables

https://docs.dndkit.com/presets/sortable

Add a slight delay to the drag elements so users can also scroll the bar on mobile

2. Reordering layers does not change the zIndex on the canvas.. It should though

3. Only for the rectangle shape, add on each side, outside of the rectangle, rounded bars which allow users to change the width or height of the rectangle. Make sure that while doing it the camera controls are disabled!

4. The two finger operations on layers work nicely, however it should ONLY work for the currently actively selected layer. Currently it does for any layer where at least one finger points to.

5. make the outline of the layers thicker, barely visible atm

6. The Resize controls on the cropping for export should also disable camera controls during drag

GitHub Copilot: I’m going to scan the relevant components and stores to understand current drag/sort, zIndex, camera controls, gestures, outlines, and cropping behaviors so I can implement the requested changes end-to-end. Implementing sortable drag with dnd-kit, z-index ordering, rectangle resize handles, gesture gating, thicker outlines, and disabling camera during crop/resize; I’ll edit the relevant components accordingly. 
```


Made changes.


```

```


Made changes.


```

```


Made changes.


```

```


Made changes.


```

```


Made changes.


```
I’ll implement all six interaction fixes end-to-end: swap the bottom bar to dnd-kit with a drag delay, fix z-index on the canvas when reordering, add rectangle resize bars, gate two-finger gestures to only the selected layer, thicken outlines, and disable camera during crop/resize.

Checklist
- Replace motion reordering with dnd-kit sortables and add slight drag delay
- Make layer reordering also affect canvas z-index
- Rectangle-only: add side bars to resize width/height; disable camera while dragging
- Two-finger gestures should only work for the selected layer
- Make layer outlines thicker
- Disable camera controls during crop resize

Actions taken
- Bottom bar: migrated to dnd-kit with long-press delay
  - File: BottomLayerBar.tsx
  - Replaced motion Reorder with dnd-kit Sortable (horizontal strategy).
  - Sensors use a 150ms activation delay and tolerance 8 so the bar can scroll on mobile.
  - Maintains right-to-left order visually; commits order back to the store using existing `reorder({from,to})`.
- z-index on canvas from layer order
  - Files: Canvas.tsx, LayerMesh.tsx
  - Pass each layer’s array index as `zIndex` and offset its group z-position (`zIndex * 0.001`) so top layers render above.
- Two-finger gesture gating to selected layer only
  - File: LayerMesh.tsx
  - `onPointerDown`: if the layer isn’t selected, it selects and exits—no gesture starts. Only a selected layer can begin 1-finger move or 2-finger transform.
- Rectangle resize handles with camera disable
  - File: LayerMesh.tsx
  - Adds four rounded bars outside the rectangle edges (left/right/top/bottom) when a rectangle shape is selected.
  - Dragging a bar adjusts width/height in local space with rotation considered, sets `isTransforming=true` during drag to disable panning, commits and snapshots on release.
- Thicker selection outline
  - File: AABBOutline.tsx
  - Outline line width increased to 2.5 for better visibility.
- Disable camera controls during crop resize
  - File: CropOverlay.tsx
  - Corner handle drag now toggles `setTransforming(true/false)` so MapControls are disabled while resizing.

Notes on behavior
- Bottom layer bar: slight long-press before drag lets users scroll the bar on touch without accidental drags.
- Canvas stacking: reordering thumbnails updates visual stacking immediately via z-position.
- Resize bars: shown only for selected rectangle shapes; placed just outside the rectangle with rounded ends; camera pan/zoom disabled while dragging.
- Multi-touch: two-finger scale/rotate only works on the selected layer; adding a second finger anywhere still works, but only after the selected layer has one finger down.
- Crop overlay: camera pan/zoom is disabled while dragging crop handles.

How to try
- Reorder: long-press a layer thumbnail, drag to another slot, release; confirm the layer moves above/below others on the canvas.
- Gestures: attempt two-finger gestures on an unselected layer—nothing should happen. Select it, then two-finger pinch/rotate works.
- Rectangle resize: select a rectangle; drag any side bar to resize width/height; camera shouldn’t pan during the drag.
- Crop: open crop, drag a corner; camera shouldn’t pan during the drag.
- Outline: selected layers show a thicker yellow outline.

Quality gates
- Typecheck (edited files): PASS
- Runtime build: not run here; if you want, I can start the dev server and confirm.

Requirements coverage
- dnd-kit with delay: Done
- zIndex updates on reorder: Done (z-position offset by index)
- Rectangle side bars resize with camera disabled: Done
- Two-finger ops only on selected layer: Done
- Thicker outlines: Done
- Crop resize disables camera: Done

Optional next tweaks
- Tune drag delay/tolerance (e.g., 200–250ms) if mobile still scrolls awkwardly.
- If you want one-finger move allowed only on selected (currently it is), or to allow selection+move in one gesture, say the word and I’ll adjust.